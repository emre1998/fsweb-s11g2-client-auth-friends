{"ast":null,"code":"import _objectSpread from\"C:/Users/EMRE CAN/fsweb-s11g2-client-auth-friends/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useContext}from\"react\";import{AuthContext}from\"./contexts/AuthContext\";import{useForm}from\"react-hook-form\";import{useHistory}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddFriend(){var _useForm=useForm({mode:\"onChange\"}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var _useContext=useContext(AuthContext),authInfo=_useContext.authInfo;var history=useHistory();var addFriendSubmit=function addFriendSubmit(data){console.log(\"RHF\",data);var postData=_objectSpread(_objectSpread({},data),{},{age:Number(data.age),id:Date.now()});var config={method:\"post\",url:\"http://localhost:9000/api/friends\",headers:{\"Content-Type\":\"application/json\",Authorization:authInfo.token},data:JSON.stringify(postData)};axios(config).then(function(response){history.push(\"/friends-list\");console.log(response.data);}).catch(function(error){console.log(error);});};var validateAge=function validateAge(value){var age=Number(value);if(age<0){return\"Yaş bilgisi negatif olamaz!\";}return true;};return/*#__PURE__*/_jsxs(\"div\",{className:\"loginFormMainDiv\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Friend\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(addFriendSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",placeholder:\"name\"},register(\"name\",{required:\"Lütfen isim giriniz!\"}))),(errors===null||errors===void 0?void 0:errors.name)&&/*#__PURE__*/_jsx(\"p\",{children:errors.name.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"email\",placeholder:\"email\"},register(\"email\",{required:\"Lütfen Email giriniz!\"}))),(errors===null||errors===void 0?void 0:errors.email)&&/*#__PURE__*/_jsx(\"p\",{children:errors.email.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"number\",placeholder:\"age\"},register(\"age\",{required:\"Lütfen Yaş bilgisi Giriniz!\",validate:validateAge// Yaş bilgisini kontrol etmek için validateAge fonksiyonunu kullanıyoruz\n}))),(errors===null||errors===void 0?void 0:errors.age)&&/*#__PURE__*/_jsx(\"p\",{children:errors.age.message})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Friend\"})]})]});}export default AddFriend;","map":{"version":3,"names":["React","useState","useContext","AuthContext","useForm","useHistory","axios","jsx","_jsx","jsxs","_jsxs","AddFriend","_useForm","mode","register","handleSubmit","errors","formState","_useContext","authInfo","history","addFriendSubmit","data","console","log","postData","_objectSpread","age","Number","id","Date","now","config","method","url","headers","Authorization","token","JSON","stringify","then","response","push","catch","error","validateAge","value","className","children","onSubmit","type","placeholder","required","name","message","email","validate"],"sources":["C:/Users/EMRE CAN/fsweb-s11g2-client-auth-friends/src/AddFriend.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { AuthContext } from \"./contexts/AuthContext\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction AddFriend() {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({ mode: \"onChange\" });\n\n  const { authInfo } = useContext(AuthContext);\n  const history = useHistory();\n  const addFriendSubmit = (data) => {\n    console.log(\"RHF\", data);\n    const postData = { ...data, age: Number(data.age), id: Date.now() };\n    const config = {\n      method: \"post\",\n      url: \"http://localhost:9000/api/friends\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: authInfo.token,\n      },\n      data: JSON.stringify(postData),\n    };\n    axios(config)\n      .then(function (response) {\n        history.push(\"/friends-list\");\n        console.log(response.data);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  const validateAge = (value) => {\n    const age = Number(value);\n    if (age < 0) {\n      return \"Yaş bilgisi negatif olamaz!\";\n    }\n    return true;\n  };\n\n  return (\n    <div className=\"loginFormMainDiv\">\n      <h1>Add Friend</h1>\n      <form onSubmit={handleSubmit(addFriendSubmit)}>\n        <div>\n          <input\n            type=\"text\"\n            placeholder=\"name\"\n            {...register(\"name\", { required: \"Lütfen isim giriniz!\" })}\n          />\n          {errors?.name && <p>{errors.name.message}</p>}\n        </div>\n        <div>\n          <input\n            type=\"email\"\n            placeholder=\"email\"\n            {...register(\"email\", {\n              required: \"Lütfen Email giriniz!\",\n            })}\n          />\n          {errors?.email && <p>{errors.email.message}</p>}\n        </div>\n        <div>\n          <input\n            type=\"number\"\n            placeholder=\"age\"\n            {...register(\"age\", {\n              required: \"Lütfen Yaş bilgisi Giriniz!\",\n              validate: validateAge, // Yaş bilgisini kontrol etmek için validateAge fonksiyonunu kullanıyoruz\n            })}\n          />\n          {errors?.age && <p>{errors.age.message}</p>}\n        </div>\n        <button type=\"submit\">Add Friend</button>\n      </form>\n    </div>\n  );\n}\n\nexport default AddFriend;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}